__NUXT_JSONP__("/posts/building-a-geofence-feature", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an){return {data:[{blockMap:{"9f4bc8f9-965d-4ff0-b022-4ea18e632708":{value:{id:g,version:321,type:"page",properties:{"0#}p":[["â€£",[["d",{type:"date",start_date:u}]]]],"IWg]":[[v]],MpSo:[[w]],"u\\k=":[[o,[[k,x]]]],"v\u003CK]":[["django,LINE bot,webhooks,AWS Lambda,Amazon RDS"]],"ysX^":[["Yes"]],title:[[y]]},content:[z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_],format:{block_locked:l,block_locked_by:a,copied_from_pointer:{id:$,table:d,spaceId:c}},created_time:j,last_edited_time:1679319245486,parent_id:p,parent_table:aa,alive:e,copied_from:$,file_ids:["53477dd2-10ac-4516-b0d6-a45adbdf17d1","cbc07182-10fd-4a86-943f-260977e97047","0137e424-ed45-4472-81b3-c6c0b78bcc2f"],created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"9c1dd87b-0464-49af-b1e3-07dca70f6b61":{value:{id:"9c1dd87b-0464-49af-b1e3-07dca70f6b61",version:129,type:"collection_view_page",view_ids:["b9fd954b-349b-46bb-8995-677927518ae7"],collection_id:p,format:{collection_pointer:{id:p,table:aa,spaceId:c},copied_from_pointer:{id:ab,table:d,spaceId:"0c084d44-207c-426c-8c5d-e7e6e298949b"}},permissions:[{role:"editor",type:"user_permission",user_id:a},{role:f,type:"public_permission",added_timestamp:1674543078967,allow_duplicate:l}],created_by:n,created_time:1674543065659,last_edited_by:n,last_edited_time:1686578547633,parent_id:c,parent_table:"space",alive:e,copied_from:ab,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"079e9b69-af7b-4f47-aeea-f8101bc1b0fe":{value:{id:z,version:ac,type:"header",format:{copied_from_pointer:{id:ad,table:d,spaceId:c}},created_by:n,created_time:j,last_edited_by:n,last_edited_time:1679237760589,parent_id:g,parent_table:d,alive:e,copied_from:ad,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"47f34cbd-93fe-4538-94a8-c6e00988d589":{value:{id:A,version:1861,type:i,properties:{title:[["This project was interesting as it involved working with a smart watch company. Our task was to design and maintain an API that would support seamless streaming of monitoring data into the geoBingAn Saas platform. The metrics being monitored included:"]]},format:{copied_from_pointer:{id:h,table:d,spaceId:c}},created_time:j,last_edited_time:1679313723760,parent_id:g,parent_table:d,alive:e,copied_from:h,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"4698144c-9a2b-4df0-8b63-77db3a98f351":{value:{id:B,version:23,type:m,properties:{title:[["heart beat rate"]]},created_time:1679297293505,last_edited_time:1679297297920,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"b77dbd3f-9157-4145-ad35-039b85d97946":{value:{id:C,version:12,type:m,properties:{title:[["blood oxygen level"]]},created_time:1679297297917,last_edited_time:1679297299790,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"71b0845c-0794-49f7-a23d-5701f27b3a1f":{value:{id:D,version:45,type:m,properties:{title:[["battery level"]]},created_time:1679297299788,last_edited_time:1679297794837,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"21d08e89-71ab-48c8-8578-ae9b2c470d6c":{value:{id:E,version:ae,type:i,created_time:1679297948284,last_edited_time:1679297948579,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"ab65ff02-ab21-4eb3-aa21-d70df951ea88":{value:{id:F,version:1571,type:i,properties:{title:[["One of the main goals of this collaboration was to be able to gain insight and alerts from monitoring data. One such feature we were tasked with developing was the geofence feature where users would be able to define safe zones. If smart watch users left these safe zones, observers would receive an alert similar to the message below notifying them of the user that left the safe zone and monitoring data recorded at that time."]]},created_time:q,last_edited_time:1679319245953,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"530c1bb6-c193-47a0-86ff-45cef7b0eb8b":{value:{id:G,version:270,type:i,created_time:q,last_edited_time:af,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"39d053bd-b914-4b3e-9d64-e7893455bb6f":{value:{id:H,version:13,type:ag,properties:{size:[["50.8KB"]],title:[["327107163_1540228396443358_8619968807807914636_n.jpg"]],source:[[ah]]},format:{block_width:240,block_height:640,display_source:ah,block_full_width:l,block_page_width:l,block_aspect_ratio:1.3473684210526315,block_preserve_scale:e},created_time:1679319272653,last_edited_time:1679319278930,parent_id:g,parent_table:d,alive:e,file_ids:["4b9c8837-8c92-4e59-9dbc-bb2b9afc74a0"],created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"b213e4d9-53f4-41cb-af65-82c503b4be8c":{value:{id:I,version:ai,type:i,properties:{title:[["This is a high level overview of how the architecture is setup:"]]},created_time:q,last_edited_time:af,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"81230dad-c554-4c0a-a8c8-3119c66a25b1":{value:{id:J,version:14,type:ag,properties:{size:[["199.9KB"]],title:[[o]],source:[[aj]]},format:{block_width:768,block_height:320,display_source:aj,block_full_width:l,block_page_width:e,block_aspect_ratio:.6156387665198237,block_preserve_scale:e},created_time:1679301470027,last_edited_time:1679317426393,parent_id:g,parent_table:d,alive:e,file_ids:["b1a10209-2951-4fb5-8baf-e109063bce35"],created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"64a439e8-9e77-413b-94dd-004a870c4c63":{value:{id:K,version:2951,type:i,properties:{title:[["The smart watch is configured to continuously send monitoring data to the Django API deployed via AWS Lambda, Amazon RDS with PostgreSQL is being used as the primary data source. As monitoring data is coming in, a function is triggered that leverages the "],["Haversine formula",[[k,"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHaversine_formula"],[r]]],[" to check for watches that are outside the defined safe zones. Using the "],["LINE Messaging API SDK for Python",[[r],[k,"https:\u002F\u002Fgithub.com\u002Fline\u002Fline-bot-sdk-python"]]],[" ",[[r]]],["we are able to generate Line Flex messages and send alerts via the Line Messaging API to smart watch observers. For the observers to receive a notification they must have the LINE app installed and they must be subscribed to the Line Bot channel."]]},created_time:1679298566093,last_edited_time:1679317459229,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"cf1d8bd6-77a3-4b57-b9d6-4bbeb46591ef":{value:{id:L,version:1570,type:i,properties:{title:[["This was a challenging but fulfilling project because it gave us an insight into the usefulness of this feature and proved how it can help people. Being able to monitor your loved ones even when you are not around and using a platform you are already familiar with was a big selling point for customers. "]]},created_time:ak,last_edited_time:1679315422250,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"209c30fe-5a14-44ff-8be8-215fcf7488ae":{value:{id:M,version:1238,type:i,properties:{title:[["One thing we had to keep in mind was to avoid bombarding observers with too many alerts in a time. Defining a threshold delay was vital to finding a right balance between providing enough information to the observer and overwhelming them with alerts."]]},created_time:ak,last_edited_time:1679316712970,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"f2f682f3-8ca5-43f2-92d6-c677ddc9e3d2":{value:{id:N,version:29,type:i,format:{copied_from_pointer:{id:h,table:d,spaceId:c}},created_time:j,last_edited_time:1679303346090,parent_id:g,parent_table:d,alive:e,copied_from:h,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"95d8f314-3f4c-406c-9ed8-68a1033d65d1":{value:{id:O,version:64,type:s,properties:{title:[["Architecture Pros:"]]},format:{copied_from_pointer:{id:h,table:d,spaceId:c}},created_time:j,last_edited_time:1679303367342,parent_id:g,parent_table:d,alive:e,copied_from:h,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"674b0099-24c4-48ea-97ab-44f56e44edee":{value:{id:P,version:199,type:m,properties:{title:[["AWS Lambda provided a us a way to reduce costs"]]},created_time:al,last_edited_time:1679315743617,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"719c6554-155f-4131-8974-258a84b049f1":{value:{id:Q,version:ae,type:i,created_time:1679313249914,last_edited_time:1679313251373,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"bf5f1f4f-3c95-4141-b26a-d8274a258c1e":{value:{id:R,version:30,type:s,properties:{title:[["Architecture Cons:"]]},created_time:al,last_edited_time:1679315987345,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"4eda96c0-55eb-4bd8-96da-467ad26ba530":{value:{id:S,version:1133,type:m,properties:{title:[["With the frequency of incoming data, we were experiencing more issues with PostgreSQL. To analyze historical data and considering moving time windows we realized leveraging a time series database would be a better option."]]},created_time:1679313305877,last_edited_time:1679316452498,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"0c2b05c6-d09f-4306-8771-93eb60b45b83":{value:{id:T,version:ai,type:i,format:{copied_from_pointer:{id:h,table:d,spaceId:c}},created_time:j,last_edited_time:1679303346380,parent_id:g,parent_table:d,alive:e,copied_from:h,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"4195d7c1-0073-4538-8705-eb080f7f6313":{value:{id:U,version:188,type:s,properties:{title:[["LINE setups:"]]},format:{copied_from_pointer:{id:h,table:d,spaceId:c}},created_time:j,last_edited_time:1679313540038,parent_id:g,parent_table:d,alive:e,copied_from:h,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"8e5b8a06-72d0-49ae-b009-da14a8edb220":{value:{id:V,version:207,type:i,properties:{title:[["Line Flex Message Simulator: Tool that allows you to design Line Flex messages"]]},format:{copied_from_pointer:{id:h,table:d,spaceId:c}},created_time:j,last_edited_time:1679303103876,parent_id:g,parent_table:d,alive:e,copied_from:h,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"97a0bafa-da5a-4253-973f-9b83737e9bea":{value:{id:W,version:t,type:i,properties:{title:[[am,[[k,am]]]]},format:{copied_from_pointer:{id:h,table:d,spaceId:c}},created_time:j,last_edited_time:1677210525976,parent_id:g,parent_table:d,alive:e,copied_from:h,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"07822055-d674-412d-bfe9-70712d8c6be5":{value:{id:X,version:t,type:i,format:{copied_from_pointer:{id:h,table:d,spaceId:c}},created_time:j,last_edited_time:1679302032378,parent_id:g,parent_table:d,alive:e,copied_from:h,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"ec37975d-8510-472a-b406-60e8d570b61c":{value:{id:Y,version:215,type:i,properties:{title:[["Line Developers Console: Setup Line bot channel and configuration for Line Messaging API"]]},format:{copied_from_pointer:{id:h,table:d,spaceId:c}},created_time:j,last_edited_time:1679303127483,parent_id:g,parent_table:d,alive:e,copied_from:h,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"728d5896-d5d7-4198-bdeb-55468bf13558":{value:{id:Z,version:t,type:i,properties:{title:[[an,[[k,an]]]]},format:{copied_from_pointer:{id:h,table:d,spaceId:c}},created_time:j,last_edited_time:1677210396846,parent_id:g,parent_table:d,alive:e,copied_from:h,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f},"5e54c780-fd89-4732-9a92-56ba8b422b28":{value:{id:_,version:ac,type:i,created_time:1677210399024,last_edited_time:1677210399026,parent_id:g,parent_table:d,alive:e,created_by_table:b,created_by_id:a,last_edited_by_table:b,last_edited_by_id:a,space_id:c},role:f}},page:{id:g,created_at:u,description:v,slug:w,thumbnail:[{name:o,url:"https:\u002F\u002Fwww.notion.so\u002Fimage\u002Fhttps:%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F0137e424-ed45-4472-81b3-c6c0b78bcc2f%2Fgeoguard.drawio.png?table=block&id=9f4bc8f9-965d-4ff0-b022-4ea18e632708&cache=v2",rawUrl:x}],tags:["django","LINE bot","webhooks","AWS Lambda","Amazon RDS"],public:e,title:y}}],fetch:{},mutations:void 0}}("0ba378f9-5b11-430d-9082-a2e34abcf232","notion_user","47a01032-533f-4ceb-bcb9-a3dc11827e3b","block",true,"comment_only","9f4bc8f9-965d-4ff0-b022-4ea18e632708","d43d438a-6515-4da2-b817-6b61e8c44b4b","text",1675230789695,"a",false,"bulleted_list","204e031f-f12d-445c-ba1d-df7a7bbebfbc","geoguard.drawio.png","37d78f77-e97d-4340-a3e5-d0d39dcf4600",1679295580987,"b","sub_sub_header",6,"2022-03-13","This post covers a high level overview of the design of a geofence feature","building-a-geofence-feature","https:\u002F\u002Fs3-us-west-2.amazonaws.com\u002Fsecure.notion-static.com\u002F0137e424-ed45-4472-81b3-c6c0b78bcc2f\u002Fgeoguard.drawio.png","Building a Smart Watch Geofence Feature ","079e9b69-af7b-4f47-aeea-f8101bc1b0fe","47f34cbd-93fe-4538-94a8-c6e00988d589","4698144c-9a2b-4df0-8b63-77db3a98f351","b77dbd3f-9157-4145-ad35-039b85d97946","71b0845c-0794-49f7-a23d-5701f27b3a1f","21d08e89-71ab-48c8-8578-ae9b2c470d6c","ab65ff02-ab21-4eb3-aa21-d70df951ea88","530c1bb6-c193-47a0-86ff-45cef7b0eb8b","39d053bd-b914-4b3e-9d64-e7893455bb6f","b213e4d9-53f4-41cb-af65-82c503b4be8c","81230dad-c554-4c0a-a8c8-3119c66a25b1","64a439e8-9e77-413b-94dd-004a870c4c63","cf1d8bd6-77a3-4b57-b9d6-4bbeb46591ef","209c30fe-5a14-44ff-8be8-215fcf7488ae","f2f682f3-8ca5-43f2-92d6-c677ddc9e3d2","95d8f314-3f4c-406c-9ed8-68a1033d65d1","674b0099-24c4-48ea-97ab-44f56e44edee","719c6554-155f-4131-8974-258a84b049f1","bf5f1f4f-3c95-4141-b26a-d8274a258c1e","4eda96c0-55eb-4bd8-96da-467ad26ba530","0c2b05c6-d09f-4306-8771-93eb60b45b83","4195d7c1-0073-4538-8705-eb080f7f6313","8e5b8a06-72d0-49ae-b009-da14a8edb220","97a0bafa-da5a-4253-973f-9b83737e9bea","07822055-d674-412d-bfe9-70712d8c6be5","ec37975d-8510-472a-b406-60e8d570b61c","728d5896-d5d7-4198-bdeb-55468bf13558","5e54c780-fd89-4732-9a92-56ba8b422b28","5197c862-4218-4dba-a108-70ddc96d6b69","collection","ceef6f1a-895a-46b2-a0e4-a87b41405547",5,"16676a65-b661-42e9-8897-9c82a4132264",7,1679301498990,"image","https:\u002F\u002Fs3-us-west-2.amazonaws.com\u002Fsecure.notion-static.com\u002F4b9c8837-8c92-4e59-9dbc-bb2b9afc74a0\u002F327107163_1540228396443358_8619968807807914636_n.jpg",4,"https:\u002F\u002Fs3-us-west-2.amazonaws.com\u002Fsecure.notion-static.com\u002Fb1a10209-2951-4fb5-8baf-e109063bce35\u002Fgeoguard.drawio.png",1679295676225,1679303348693,"https:\u002F\u002Fdevelopers.line.biz\u002Fflex-simulator\u002F","https:\u002F\u002Fdevelopers.line.biz\u002Fconsole\u002F")));